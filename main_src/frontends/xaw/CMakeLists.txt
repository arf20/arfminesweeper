if (X11_FOUND AND XAW_FOUND)
    if (MODULE_XAW)
        add_library(xaw MODULE "xaw.c")
        target_compile_definitions(xaw PUBLIC _MODULE_)
        target_link_libraries(xaw ${XAW_LIBRARIES})
        add_custom_target(symlink_xaw ALL
            COMMAND ln -fs "${CMAKE_CURRENT_BINARY_DIR}/*.so" ${MODULE_DIR}
            DEPENDS xaw module_dir)
        message(STATUS "Building with module xaw")
    else()
        message(STATUS "Not building with module xaw")
    endif()

    if (STATIC_XAW)
        target_sources(arfminesweeper PRIVATE "xaw.c")
        target_link_libraries(arfminesweeper ${XAW_LIBRARIES})
        target_compile_definitions(arfminesweeper PUBLIC FRONTEND_XAW)
        message(STATUS "Building with static xaw")
    else()
        message(STATUS "Not building with static xaw")
    endif()
else()
    message(STATUS "No xaw found")
endif()

