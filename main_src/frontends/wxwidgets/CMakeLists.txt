if (wxWidgets_FOUND)
    include(UsewxWidgets)
    if (MODULE_WXWIDGETS)
        add_library(arfminesweeper-wxwidgets MODULE "wxwidgets.cpp")
        target_compile_definitions(arfminesweeper-wxwidgets PUBLIC _MODULE_)
        target_include_directories(arfminesweeper-wxwidgets PUBLIC ${wxWidgets_INCLUDE_DIRS})
        target_link_libraries(arfminesweeper-wxwidgets wxWidgets::wxWidgets)
        add_custom_target(symlink_arfminesweeper-wxwidgets ALL
            COMMAND ln -fs "${CMAKE_CURRENT_BINARY_DIR}/*.so" ${MODULE_DIR}
            DEPENDS arfminesweeper-wxwidgets module_dir)
        message(STATUS "Building with module wxwidgets")
    else()
        message(STATUS "Not building with module wxwidgets")
    endif()

    if (STATIC_WXWIDGETS)
        target_sources(arfminesweeper PRIVATE "wxwidgets.cpp")
        target_include_directories(arfminesweeper PUBLIC ${wxWidgets_INCLUDE_DIRS})
        target_link_libraries(arfminesweeper wxWidgets::wxWidgets)
        target_compile_definitions(arfminesweeper PUBLIC FRONTEND_WXWIDGETS)
        message(STATUS "Building with static wxwidgets")
    else()
        message(STATUS "Not building with static wxwidgets")
    endif()
else()
    message(STATUS "No wxWidgets found")
endif()

